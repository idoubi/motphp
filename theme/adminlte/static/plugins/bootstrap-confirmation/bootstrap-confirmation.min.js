(function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("jquery"),require("bootstrap")):"function"==typeof define&&define.amd?define(["jquery","bootstrap"],e):(t="undefined"!=typeof globalThis?globalThis:t||self,e(t.jQuery))})(this,function(t){"use strict";function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function n(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}function o(){return o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},o.apply(this,arguments)}function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,r(t,e)}function r(t,e){return r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,e)}if(void 0===t.fn.popover||"4"!==t.fn.popover.Constructor.VERSION.split(".").shift())throw new Error("Bootstrap Confirmation 4 requires Bootstrap Popover 4");var s=t.fn.popover.Constructor,c="confirmation",a="4.2.1",l="bs."+c,f="."+l,u=t.fn[c],h="h-100 d-flex align-items-center",p="btn btn-sm",g=o({},s.DefaultType,{singleton:"boolean",popout:"boolean",copyAttributes:"(string|array)",onConfirm:"function",onCancel:"function",btnOkClass:"string",btnOkLabel:"string",btnOkIconClass:"string",btnOkIconContent:"string",btnCancelClass:"string",btnCancelLabel:"string",btnCancelIconClass:"string",btnCancelIconContent:"string",buttons:"array"}),d=o({},s.Default,{_attributes:{},_selector:null,placement:"top",title:"Are you sure?",trigger:"click",confirmationEvent:void 0,content:"",singleton:!1,popout:!1,copyAttributes:"href target",onConfirm:t.noop,onCancel:t.noop,btnOkClass:p+" btn-primary",btnOkLabel:"Yes",btnOkIconClass:"",btnOkIconContent:"",btnCancelClass:p+" btn-secondary",btnCancelLabel:"No",btnCancelIconClass:"",btnCancelIconContent:"",buttons:[],template:'\n<div class="popover confirmation">\n  <div class="arrow"></div>\n  <h3 class="popover-header"></h3>\n  <div class="popover-body">\n    <p class="confirmation-content"></p>\n    <div class="confirmation-buttons text-center">\n      <div class="btn-group"></div>\n    </div>\n  </div>\n</div>'});d.whiteList&&d.whiteList["*"].push("data-apply","data-dismiss");var b,C={FADE:"fade",SHOW:"show"},y={TITLE:".popover-header",CONTENT:".confirmation-content",BUTTONS:".confirmation-buttons .btn-group"},v={13:"Enter",27:"Escape",39:"ArrowRight",40:"ArrowDown"},m={HIDE:"hide"+f,HIDDEN:"hidden"+f,SHOW:"show"+f,SHOWN:"shown"+f,INSERTED:"inserted"+f,CLICK:"click"+f,FOCUSIN:"focusin"+f,FOCUSOUT:"focusout"+f,MOUSEENTER:"mouseenter"+f,MOUSELEAVE:"mouseleave"+f,CONFIRMED:"confirmed"+f,CANCELED:"canceled"+f,KEYUP:"keyup"+f},E=function(e){function r(t,n){var o;if(o=e.call(this,t,n)||this,(o.config.popout||o.config.singleton)&&!o.config.rootSelector)throw new Error("The rootSelector option is required to use popout and singleton features since jQuery 3.");return o._isDelegate=!1,n.selector?(n._selector=n.rootSelector+" "+n.selector,o.config._selector=n._selector):n._selector?(o.config._selector=n._selector,o._isDelegate=!0):o.config._selector=n.rootSelector,void 0===o.config.confirmationEvent&&(o.config.confirmationEvent=o.config.trigger),o.config.selector||o._copyAttributes(),o._setConfirmationListeners(),o}i(r,e);var s=r.prototype;return s.isWithContent=function(){return!0},s.setContent=function(){var e=t(this.getTipElement()),n=this._getContent();"function"==typeof n&&(n=n.call(this.element)),this.setElementContent(e.find(y.TITLE),this.getTitle()),e.find(y.CONTENT).toggle(!!n),n&&this.setElementContent(e.find(y.CONTENT),n),this.config.buttons.length>0?this._setButtons(e,this.config.buttons):this._setStandardButtons(e),e.removeClass(C.FADE+" "+C.SHOW),this._setupKeyupEvent()},s.dispose=function(){t("body").off(m.CLICK+"."+this.uid),this.eventBody=!1,this._cleanKeyupEvent(),e.prototype.dispose.call(this)},s.hide=function(t){this._cleanKeyupEvent(),e.prototype.hide.call(this,t)},s._getConfig=function(n){n=e.prototype._getConfig.call(this,n);var i=t(this.element).data();return Object.keys(i).forEach(function(t){0!==t.indexOf("btn")&&delete i[t]}),o({},n,i)},s._copyAttributes=function(){var e=this;this.config._attributes={},this.config.copyAttributes?"string"==typeof this.config.copyAttributes&&(this.config.copyAttributes=this.config.copyAttributes.split(" ")):this.config.copyAttributes=[],this.config.copyAttributes.forEach(function(n){e.config._attributes[n]=t(e.element).attr(n)})},s._setConfirmationListeners=function(){var e=this;this.config.selector?t(this.element).on(this.config.trigger,this.config.selector,function(t,e){e||(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation())}):(t(this.element).on(this.config.trigger,function(t,e){e||(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation())}),t(this.element).on(m.SHOWN,function(){e.config.singleton&&t(e.config._selector).not(t(this)).filter(function(){return void 0!==t(this).data(l)}).confirmation("hide")})),this._isDelegate||(this.eventBody=!1,this.uid=this.element.id||r.getUID(c+"_group"),t(this.element).on(m.SHOWN,function(){e.config.popout&&!e.eventBody&&(e.eventBody=t("body").on(m.CLICK+"."+e.uid,function(n){t(e.config._selector).is(n.target)||t(e.config._selector).has(n.target).length>0||(t(e.config._selector).filter(function(){return void 0!==t(this).data(l)}).confirmation("hide"),t("body").off(m.CLICK+"."+e.uid),e.eventBody=!1)}))}))},s._setStandardButtons=function(t){var e=[{class:this.config.btnOkClass,label:this.config.btnOkLabel,iconClass:this.config.btnOkIconClass,iconContent:this.config.btnOkIconContent,attr:this.config._attributes},{class:this.config.btnCancelClass,label:this.config.btnCancelLabel,iconClass:this.config.btnCancelIconClass,iconContent:this.config.btnCancelIconContent,cancel:!0}];this._setButtons(t,e)},s._setButtons=function(e,n){var o=this,i=e.find(y.BUTTONS).empty();n.forEach(function(e){var n=t('<a href="#"></a>').addClass(h).addClass(e.class||p+" btn-secondary").html(e.label||"").attr(e.attr||(e.cancel?{}:o.config._attributes));(e.iconClass||e.iconContent)&&n.prepend(t("<i></i>").addClass(e.iconClass||"").text(e.iconContent||"")),n.one("click",function(n){"#"===t(this).attr("href")&&n.preventDefault(),e.onClick&&e.onClick.call(t(o.element)),e.cancel?(o.config.onCancel.call(o.element,e.value),t(o.element).trigger(m.CANCELED,[e.value])):(o.config.onConfirm.call(o.element,e.value),t(o.element).trigger(m.CONFIRMED,[e.value]),t(o.element).trigger(o.config.confirmationEvent,[!0])),o.hide()}),i.append(n)})},s._setupKeyupEvent=function(){b=this,t(window).off(m.KEYUP).on(m.KEYUP,this._onKeyup.bind(this))},s._cleanKeyupEvent=function(){b===this&&(b=void 0,t(window).off(m.KEYUP))},s._onKeyup=function(e){if(this.tip){var n,o=t(this.getTipElement()),i=e.key||v[e.keyCode||e.which],r=o.find(y.BUTTONS),s=r.find(".active");switch(i){case"Escape":this.hide();break;case"ArrowRight":n=s.length&&s.next().length?s.next():r.children().first(),s.removeClass("active"),n.addClass("active").focus();break;case"ArrowLeft":n=s.length&&s.prev().length?s.prev():r.children().last(),s.removeClass("active"),n.addClass("active").focus()}}else this._cleanKeyupEvent()},r.getUID=function(t){var e=t;do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},r._jQueryInterface=function(e){return this.each(function(){var n=t(this).data(l),o="object"==typeof e?e:{};if(o.rootSelector=t(this).selector||o.rootSelector,(n||!/destroy|hide/.test(e))&&(n||(n=new r(this,o),t(this).data(l,n)),"string"==typeof e)){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}})},n(r,null,[{key:"VERSION",get:function(){return a}},{key:"Default",get:function(){return d}},{key:"NAME",get:function(){return c}},{key:"DATA_KEY",get:function(){return l}},{key:"Event",get:function(){return m}},{key:"EVENT_KEY",get:function(){return f}},{key:"DefaultType",get:function(){return g}}]),r}(s);t.fn[c]=E._jQueryInterface,t.fn[c].Constructor=E,t.fn[c].noConflict=function(){return t.fn[c]=u,E._jQueryInterface}});